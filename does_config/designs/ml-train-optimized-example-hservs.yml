first_exp:
  n_repetitions: 1
  host_types:
    hserv1:
      n: 1
      check_status: True
      init_roles: 
        - ml-example-setup-1
        - setup-poetry
      $CMD$:
        - "bash {{exp_code_dir}}/utils/ml-stuff/ml-train-optimized.sh 0 2 3 [% exp_host_lst | json_query(\"[?host_type=='hserv1'].private_dns_name\") | first %] \"{{exp_code_dir}}\" 38"
    
    hserv2:
      n: 2
      check_status: True
      init_roles: 
        - ml-example-setup-1
        - setup-poetry
      $CMD$:
        - "bash {{exp_code_dir}}/utils/ml-stuff/ml-train-optimized.sh 1 6 3 [% exp_host_lst | json_query(\"[?host_type=='hserv1'].private_dns_name\") | first %] \"{{exp_code_dir}}\" 38"
        - "bash {{exp_code_dir}}/utils/ml-stuff/ml-train-optimized.sh 2 6 3 [% exp_host_lst | json_query(\"[?host_type=='hserv1'].private_dns_name\") | first %] \"{{exp_code_dir}}\" 38"

$ETL$:
  first_exp_results:
    experiments: [first_exp]
    extractors:
      MpSpdzStderrExtractor: {}
      MpSpdzStdoutExtractor: {}
      IgnoreExtractor: {}
    transformers: []
    loaders:
      CsvSummaryLoader:
        output_dir: etl_results/first_exp_results